## 什么是T检验？

T检验是一种推论统计，用于确定两个组的均值之间是否存在显著差异以及它们之间的关系。当数据集符合正态分布且方差未知时，例如记录掷硬币100次的数据集，就可以使用T检验。

T检验是一种用于统计假设检验的方法，使用t统计量、t分布值和自由度来确定统计显著性。

### 关键要点

- T检验是一种推论统计，用于确定两个变量的均值是否存在统计显著差异。
- T检验是用于统计假设检验的一种测试。
- 计算T检验需要三个基本数据值，包括每个数据集均值之间的差异、每组的标准差以及每组的数据值数量。
- T检验可以是相关的（依赖）或独立的。

## 理解T检验

T检验比较两个数据集的平均值，并判断它们是否来自同一总体。在上述例子中，来自A班的学生样本和来自B班的学生样本很可能不会有相同的均值和标准差。同样，从服用安慰剂的对照组和服用处方药的组中抽取的样本应该会有略微不同的均值和标准差。

在数学上，T检验从两个数据集中各抽取一个样本，并建立问题陈述。它假设零假设，即两个均值相等。

使用公式计算值，并与标准值进行比较。根据结果接受或拒绝假设的零假设。如果零假设被拒绝，则表明数据读数强烈，可能不是偶然所得。

T检验只是用于此目的的众多检验之一。统计学家会使用T检验之外的其他检验，来研究更多变量和更大的样本量。对于大样本量，统计学家使用z检验。其他检验选项包括卡方检验和F检验。

## 使用T检验

假设一家制药公司正在测试一种新药。按照标准程序，该药物给一组患者服用，另一组称为对照组，服用安慰剂。安慰剂是一种没有治疗效果的物质，作为衡量另一组患者服用实际药物后的反应的基准。

药物试验后，服用安慰剂的对照组成员报告平均预期寿命增加了三年，而服用新药的组则报告平均预期寿命增加了四年。

初步观察表明该药物有效。然而，这一观察结果也可能是偶然的。可以使用T检验来确定结果是否成立，并适用于整个总体。

在使用T检验时，有四个假设。收集的数据必须遵循连续或序数尺度，例如智商测试的分数；数据是从总体中的随机选择部分收集而来；数据将导致正态分布的钟形曲线；并且在标准差相等的情况下存在均等或同质的方差。

## T检验公式

计算T检验需要三个基本数据值。它们包括每个数据集均值之间的差异（均值差异）、每组的标准差以及每组的数据值数量。

此比较有助于确定差异的偶然性及其是否超出偶然范围。T检验质疑两组之间的差异是否代表研究中的真实差异或仅仅是随机差异。

T检验的输出产生两个值：t值和自由度。t值或t分数，是两个样本集均值之间的差异与样本集内部存在的变异之间的比率。

分子值是两个样本集均值之间的差异。分母则是样本集内部存在的变异，测量的是离散度或变异性。

计算得出的t值随后与从称为T分布表的临界值表中得到的值进行比较。t分数的较高值表明两个样本集之间存在较大的差异。t值越小，两个样本集之间的相似性越高。

**t分数**：较大的t分数或t值表明组之间存在差异，而较小的t分数则表示组之间相似。

自由度是指在研究中可以变化的值，对于评估零假设的重要性和有效性至关重要。这些值的计算通常依赖于样本集中可用的数据记录数量。

相关T检验或配对T检验是一种依赖类型的检验，适用于样本由匹配的相似单位组成，或有重复测量的情况。例如，可能存在同一患者在接受某种治疗前后多次测试的情况。每个患者都是其自身的对照样本。

该方法也适用于样本相关或具有匹配特征的情况，例如涉及儿童、父母或兄弟姐妹的比较分析。

计算配对T检验的t值和自由度的公式为：

$$ \begin{aligned}&T=\frac{\textit{mean}1 - \textit{mean}2}{\frac{s(\text{diff})}{\sqrt{(n)}}}\\&\textbf{其中：}\\&\textit{mean}1\text{和}\textit{mean}2=\text{每个样本集的平均值}\\&s(\text{diff})=\text{配对数据值差异的标准差}\\&n=\text{样本大小（配对差异的数量）}\\&n-1=\text{自由度}\end{aligned} $$

均方差T检验是一种独立T检验，用于每组的样本数量相同或两个数据集的方差相似的情况。

计算均方差T检验的t值和自由度的公式为：

$$ \begin{aligned}&\text{T值}=\frac{\textit{mean}1-\textit{mean}2}{\sqrt{\frac{(n1-1)\times\textit{var}1^2+(n2-1)\times\textit{var}2^2}{n1+n2-2}\times\frac{1}{n1}+\frac{1}{n2}}}\\&\textbf{其中：}\\&\textit{mean}1\text{和}\textit{mean}2=\text{每个样本集的平均值}\\&\textit{var}1\text{和}\textit{var}2=\text{每个样本集的方差}\\&n1\text{和}n2=\text{每个样本集中的记录数量}\end{aligned} $$

和，

$$ \begin{aligned} &\text{自由度} = n1 + n2 - 2 \\ &\textbf{其中：}\\ &n1\text{和}n2 = \text{每个样本集中的记录数量} \\ \end{aligned} $$

不均方差T检验是一种独立T检验，适用于每组样本数量不同且两个数据集的方差也不同的情况。此检验也称为Welch的t检验。

计算不均方差T检验的t值和自由度的公式为：

$$ \begin{aligned}&\text{T值}=\frac{mean1-mean2}{\sqrt{\bigg(\frac{var1}{n1}{+\frac{var2}{n2}\bigg)}}}\\&\textbf{其中：}\\&mean1\text{和}mean2=\text{每个样本集的平均值} \\&var1\text{和}var2=\text{每个样本集的方差} \\&n1\text{和}n2=\text{每个样本集的记录数量} \end{aligned} $$

和，

$$ \begin{aligned} &\text{自由度} = \frac{ \left ( \frac{ var1^2 }{ n1 } + \frac{ var2^2 }{ n2 } \right )^2 }{ \frac{ \left ( \frac{ var1^2 }{ n1 } \right )^2 }{ n1 - 1 } + \frac{ \left ( \frac{ var2^2 }{ n2 } \right )^2 }{ n2 - 1}} \\ &\textbf{其中：}\\ &var1\text{和}var2=\text{每个样本集的方差} \\ &n1\text{和}n2=\text{每个样本集的记录数量} \\ \end{aligned} $$

## 如何选择T检验？

下面的流程图可以用于根据样本集的特征确定使用哪种T检验。关键考虑因素包括样本记录的相似性、每个样本集中的数据记录数量以及每个样本集的方差。

## 不均方差T检验的例子

假设一间艺术画廊对接收到的画作进行对角线测量。一组样本包括10幅画作，而另一组包括20幅画作。数据集及其对应的均值和方差值如下：

||样本1|样本2
|---|---|---|
||19.7|28.3
||20.4|26.7
||19.6|20.1
||17.8|23.3
||18.5|25.2
||18.9|22.1
||18.3|17.7
||18.9|27.6
||19.5|20.6
||21.95|13.7
|||23.2
|||17.5
|||20.6
|||18
|||23.9
|||21.6
|||24.3
|||20.4
|||23.9
|||13.3
|均值|19.4|21.6
|方差|1.4|17.1

虽然样本2的均值高于样本1，但我们不能得出样本2对应的总体均值高于样本1对应的总体均值的结论。

从19.4到21.6的差异是纯粹偶然的，还是所有收到的画作的总体之间存在差异？我们通过假设零假设，即两个样本集的均值相同，来确立问题，并进行T检验来测试该假设的合理性。

由于数据记录数量不同（n1 = 10和n2 = 20）且方差也不同，使用不均方差T检验部分提到的公式计算上述数据集的t值和自由度。

计算得到的t值为-2.24787。由于在比较两个t值时可以忽略负号，因此计算值为2.24787。

自由度值为24.38，依据公式定义向下取整至最小整数值，结果为24。

可以指定一个概率水平（显著性水平α，p值）作为接受标准。在大多数情况下，可以假设5%的值。

使用自由度值24和5%的显著性水平，查看t值分布表，得到值为2.064。将此值与计算得出的2.247进行比较，表明计算的t值在5%的显著性水平下大于表格值。因此，可以安全地拒绝零假设，即均值之间没有差异。总体集存在内在差异，这些差异并非偶然。

## T分布表如何使用？

T分布表有单尾和双尾格式。单尾格式用于评估具有固定值或范围且方向明确的情况，无论是正向还是负向。例如，输出值低于-3的概率是多少，或者掷出一对骰子时得到超过7的概率是多少？双尾格式用于区间分析，例如检查坐标是否落在-2和+2之间。

## 独立T检验是什么？

独立T检验的样本是相互独立选择的，其中两个组的数据集不指向相同的值。例如，可以包括100名随机无关患者，分为两组各50名患者。一组作为对照组，服用安慰剂，另一组接受处方治疗。这构成了两个独立且无序的样本组。

## T检验解释了什么，如何使用？

T检验是一种统计检验，通常用于比较两个组的均值。它经常在假设检验中使用，以确定某个过程或治疗是否对感兴趣的总体产生影响，或两个组之间是否存在差异。

## 参考文献

无文献引用。